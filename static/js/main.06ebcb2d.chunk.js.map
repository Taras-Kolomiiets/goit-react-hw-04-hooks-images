{"version":3,"sources":["components/searchbar/SearchBar.module.css","components/imageGalleryItem/imageGalleryItem.module.css","components/modal/modal.module.css","components/imageGallery/imageGallery.module.css","components/button/button.module.css","components/searchbar/SearchBar.jsx","components/imageGalleryItem/ImageGalleryItem.jsx","components/modal/Modal.jsx","components/imageGallery/ImageGallery.jsx","components/button/Button.jsx","api/getQuery.js","App.js","index.js"],"names":["module","exports","SearchBar","onSubmit","useState","query","setQuery","className","styles","Searchbar","SearchForm","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","ImageGalleryItem","image","showModal","classes","onClick","src","webformatURL","alt","tags","ImageGalleryItemImage","Modal","children","onClose","modalRoot","document","querySelector","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","event","target","ImageGallery","images","modal","setModal","imageIdx","setImageIdx","map","index","id","largeImageURL","Button","onLoadMore","API_KEY","BASE_URL","getQuery","page","fetch","then","response","ok","json","Promise","reject","Error","data","hits","App","setPage","setImages","status","setStatus","error","setError","a","length","prevImages","Loading","remove","scrollTo","top","documentElement","scrollHeight","behavior","fetchImages","text","message","dots","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.06ebcb2d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__L0aSe\",\"SearchForm\":\"SearchBar_SearchForm__2_pK-\",\"SearchFormButton\":\"SearchBar_SearchFormButton__3yDkU\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__22RCf\",\"SearchFormInput\":\"SearchBar_SearchFormInput__2Dl-4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__1DGxi\",\"ImageGalleryItemImage\":\"imageGalleryItem_ImageGalleryItemImage__1a2HM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__netCd\",\"Modal\":\"modal_Modal__3sq3B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__3hUtU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__2BcwN\"};","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./SearchBar.module.css\";\r\n\r\nconst SearchBar = ({ onSubmit }) => {\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  const addQuery = (e) => {\r\n    setQuery(e.currentTarget.value);\r\n  };\r\n\r\n  const sendQuery = (e) => {\r\n    e.preventDefault();\r\n\r\n    onSubmit(query);\r\n    setQuery(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className={styles.Searchbar}>\r\n      <form className={styles.SearchForm} onSubmit={sendQuery}>\r\n        <button type=\"submit\" className={styles.SearchFormButton}>\r\n          <span className={styles.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={query}\r\n          onChange={addQuery}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport classes from \"./imageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ image, showModal }) => {\r\n  return (\r\n    <li className={classes.ImageGalleryItem} onClick={showModal}>\r\n      <img\r\n        src={image.webformatURL}\r\n        alt={image.tags}\r\n        className={classes.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.object.isRequired,\r\n  showModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { createPortal } from \"react-dom\";\r\nimport classes from \"./modal.module.css\";\r\n\r\nconst Modal = ({ children, onClose }) => {\r\n  const modalRoot = document.querySelector(\"#modal-root\");\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return function () {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  });\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={classes.Overlay} onClick={handleBackdropClick}>\r\n      <div className={classes.Modal}>{children}</div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport classes from \"./imageGallery.module.css\";\r\nimport ImageGalleryItem from \"../imageGalleryItem\";\r\nimport Modal from \"../modal\";\r\n\r\nconst ImageGallery = ({ images }) => {\r\n  const [modal, setModal] = useState(false);\r\n  const [imageIdx, setImageIdx] = useState(null);\r\n\r\n  const toggleModal = () => {\r\n    setModal(!modal);\r\n  };\r\n\r\n  const showModal = (idx) => {\r\n    setImageIdx(idx);\r\n    setModal(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ul className={classes.ImageGallery}>\r\n        {images.map((image, index) => {\r\n          return (\r\n            <ImageGalleryItem\r\n              image={image}\r\n              key={image.id}\r\n              showModal={() => {\r\n                showModal(index);\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n      {modal && (\r\n        <Modal onClose={toggleModal}>\r\n          <img\r\n            src={images[imageIdx].largeImageURL}\r\n            alt={images[imageIdx].tags}\r\n          />\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport classes from \"./button.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ onLoadMore }) => {\r\n  return (\r\n    <button className={classes.Button} onClick={onLoadMore}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","const API_KEY = \"23130467-42c8d5c93f822886ee9232870\";\nconst BASE_URL = \"https://pixabay.com/api\";\n\nconst getQuery = (query = \"\", page = 1) => {\n  return fetch(\n    `${BASE_URL}/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  )\n    .then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n      return Promise.reject(new Error(`Нет фотографий по запросу ${query}`));\n    })\n    .then((data) => data.hits);\n};\n\nexport default getQuery;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport SearchBar from \"./components/searchbar\";\nimport ImageGallery from \"./components/imageGallery\";\nimport Button from \"./components/button\";\nimport getQuery from \"./api/getQuery\";\nimport { Loading } from \"notiflix\";\n\nconst App = () => {\n  const [query, setQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [status, setStatus] = useState(\"idle\");\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    if (!query) return;\n\n    if (status === \"idle\") {\n      setStatus(\"pending\");\n      const fetchImages = async () => {\n        try {\n          const images = await getQuery(query, page);\n          if (!images.length) {\n            throw new Error(`No search results for ${query}`);\n          }\n          setImages((prevImages) => [...prevImages, ...images]);\n          setStatus(\"resolved\");\n          Loading.remove();\n\n          page > 1 &&\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: \"smooth\",\n            });\n        } catch (error) {\n          setError(error);\n          setStatus(\"rejected\");\n          Loading.remove();\n        }\n      };\n      fetchImages();\n    }\n  }, [images, query, page, status]);\n\n  const addQuery = (text) => {\n    setQuery(text);\n    setPage(1);\n    setImages([]);\n    setStatus(\"idle\");\n  };\n\n  const onLoadMore = () => {\n    setPage((prevPage) => prevPage + 1);\n    setStatus(\"idle\");\n  };\n\n  return (\n    <div className=\"App\">\n      <SearchBar onSubmit={addQuery} />\n      {status === \"rejected\" && <h1>{error.message}</h1>}\n      <ImageGallery images={images} />\n      {status === \"pending\" && Loading.dots()}\n      {status === \"resolved\" && images.length >= 12 && (\n        <Button onLoadMore={onLoadMore} />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}